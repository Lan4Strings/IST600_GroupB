data<-read.csv("2017.1-2018.1.csv")
setwd("~/GitHub/IST600_GroupB/Data")
data<-read.csv("2017.1-2018.1.csv")
datanew<-data.frame(data)
crimedata<-read.csv("crime2017.csv")
datacrime<-data.frame(crimedata)
?merge
View(datanew)
View(datacrime)
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address")
View(datamerged)
View(datanew)
View(datacrime)
?lower
??lower
data<-read.csv("2017.1-2018.1.csv")
datanew<-data.frame(data)
datanew$block.address<-tolower(datanew$block.address)
crimedata<-read.csv("crime2017.csv")
datacrime<-data.frame(crimedata)
datacrime$Address<-tolower(datacrime$Address)
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address")
View(datamerged)
r="500 block BEAR ST & SPRING ST
"
split(r,"&")
?split
split(r,sep="&")
strsplit(r,sep="&")
strsplit(r,split="&")
strsplit(r,split="&")[1]
strsplit(r,split="&")[1][1]
strsplit(r,split="&"){1}
strsplit(r,split="&")[[1]]
strsplit(r,split="&")[[1]][1]
strsplit(datanew$block.address,split="&")[[1]][1]
strsplit(datanew$block.address,split="&")[[1]]
strsplit(datanew$block.address,split="&")
strsplit(datanew$block.address,split="&")[,]
strsplit(datanew$block.address,split="&")[[]]
strsplit(datanew$block.address,split="&")[
]
strsplit(datanew$block.address,split="&")][[1]]
strsplit(datanew$block.address,split="&")[]
strsplit(datanew$block.address,split="&")[1000]
[i]
type(strsplit(datanew$block.address,split="&"))
class(strsplit(datanew$block.address,split="&"))
strsplit(datanew$block.address,split="&")[,[1]]
strsplit(datanew$block.address,split="&")[[1]]
strsplit(datanew$block.address,split="&")[[2]]
strsplit(datanew$block.address,split="&")[[3]]
strsplit(datanew$block.address,split="&")[[]]
strsplit(datanew$block.address,split="&")[
]
gsub("&.*$","",datanew$block.address)
gsub("\s?&.*$","",datanew$block.address)
gsub("\\s?&.*$","",datanew$block.address)
datanew$block.address<-gsub("\\s?&.*$","",datanew$block.address)
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address")
View(datamerged)
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.x = TRUE)
View(datamerged)
datacrime[is.na(datacrime),1]
is.na(datacrime[,1])
datacrime$Aggravated.assault[is.na(datacrime$Aggravated.assault)]<-0
datacrime<-data.frame(crimedata)
datacrime$Aggravated.assault[is.na(datacrime$Aggravated.assault)]<-0
datacrime$Arson[is.na(datacrime$Arson)]<-0
datacrime$Burglary[is.na(datacrime$Burglary)]<-0
datacrime$Larceny[is.na(datacrime$Larceny)]<-0
datacrime$Murder[is.na(datacrime$Murder)]<-0
datacrime$Robbery[is.na(datacrime$Robbery)]<-0
datacrime$Vehicle.theft[is.na(datacrime$Vehicle.theft)]<-0
datacrime$Address<-tolower(datacrime$Address)
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.x = TRUE)
datanew$block.address<-gsub(" rear.*$","",datanew$block.address)
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address")
View(datamerged)
,all.x = TRUE
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.x = TRUE)
datamerged$block.address[is.na(datamerged$Total)]
gregexpr(" S ",datacrime$Address)
gregexpr(" s ",datacrime$Address)
View(datacrime)
gregexpr(" s ",datacrime$Address)[[1]]
gregexpr(" s ",datacrime$Address)[[1]][1]
gregexpr(" s ",datacrime$Address)[[i]][1]
lapply(x, function(x) x[1])
gregexpr(" s ",datacrime$Address)[1]
lapply(datacrime$Address, function(x) gregexpr(" s ",x)[1])
gregexpr(" s ",datacrime$Address)[1]
test<-gregexpr(" s ",datacrime$Address)[1]
lapply(test,function(x) x[1])
lapply(test,function(x) x[[]])
lapply(test,function(x) x[[1]])
lapply(test,function(x) x[][1])
lapply(test[1],function(x) x[][1])
gregexpr(" s ",datacrime$Address)$match.length
gregexpr(" s ",datacrime$Address)
summary(gregexpr(" s ",datacrime$Address))
summary(gregexpr(" s ",datacrime$Address)[,])
View(data.frame(gregexpr(" s ",datacrime$Address)))
data.frame(gregexpr(" s ",datacrime$Address))
unlist(gregexpr(" s ",datacrime$Address))
length(unlist(gregexpr(" s ",datacrime$Address)))
South<-gsub(-1,0,South)
South<-unlist(gregexpr(" s ",datacrime$Address))
South<-gsub(-1,0,South)
South<-boolean(gsub(-1,0,South))
?boolean
South==True
South==TRUE
South[South!=0]<-1
South[South==TRUE]
South[South==TRUE]
South<-as.numeric(gsub(-1,0,South))
South[South==TRUE]
South==TRUE
datacrime$Address<-gsub(" s "," ",datacrime$Address)
"a"+"a"
paste("a","a")
datacrime$Address[South==TRUE]<-paste(datacrime$Address[South==TRUE],"s")
View(datacrime)
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address")
North<-unlist(gregexpr(" n ",datacrime$Address))
North<-as.numeric(gsub(-1,0,North))
datacrime$Address<-gsub(" n "," ",datacrime$Address)
datacrime$Address[North==TRUE]<-paste(datacrime$Address[North==TRUE],"n")
East<-unlist(gregexpr(" e ",datacrime$Address))
East<-as.numeric(gsub(-1,0,East))
datacrime$Address<-gsub(" e "," ",datacrime$Address)
datacrime$Address[East==TRUE]<-paste(datacrime$Address[East==TRUE],"e")
West<-unlist(gregexpr(" w ",datacrime$Address))
West<-as.numeric(gsub(-1,0,West))
datacrime$Address<-gsub(" w "," ",datacrime$Address)
datacrime$Address[West==TRUE]<-paste(datacrime$Address[West==TRUE],"w")
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address")
View(datacrime)
?meger
?merge
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.x=TRUE)
View(datamerged)
datanew$block.address<-gsub(" to .*$","",datanew$block.address)
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.x=TRUE)
datanew$block.address<-gsub(" #.*$","",datanew$block.address)
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.x=TRUE)
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.y=TRUE)
View(datamerged)
datanew$block.address<-gsub("AVE","AV",datanew$block.address)
datanew<-data.frame(data)
datanew$block.address<-gsub("AVE","AV",datanew$block.address)
datanew$block.address<-tolower(datanew$block.address)
datanew$block.address<-gsub("\\s?&.*$","",datanew$block.address)
datanew$block.address<-gsub(" rear.*$","",datanew$block.address)
datanew$block.address<-gsub(" to .*$","",datanew$block.address)
datanew$block.address<-gsub(" #.*$","",datanew$block.address)
crimedata<-read.csv("crime2017.csv")
datacrime<-data.frame(crimedata)
datacrime$Aggravated.assault[is.na(datacrime$Aggravated.assault)]<-0
datacrime$Arson[is.na(datacrime$Arson)]<-0
datacrime$Burglary[is.na(datacrime$Burglary)]<-0
datacrime$Larceny[is.na(datacrime$Larceny)]<-0
datacrime$Murder[is.na(datacrime$Murder)]<-0
datacrime$Robbery[is.na(datacrime$Robbery)]<-0
datacrime$Vehicle.theft[is.na(datacrime$Vehicle.theft)]<-0
datacrime$Address<-tolower(datacrime$Address)
South<-unlist(gregexpr(" s ",datacrime$Address))
South<-as.numeric(gsub(-1,0,South))
datacrime$Address<-gsub(" s "," ",datacrime$Address)
datacrime$Address[South==TRUE]<-paste(datacrime$Address[South==TRUE],"s")
North<-unlist(gregexpr(" n ",datacrime$Address))
North<-as.numeric(gsub(-1,0,North))
datacrime$Address<-gsub(" n "," ",datacrime$Address)
datacrime$Address[North==TRUE]<-paste(datacrime$Address[North==TRUE],"n")
East<-as.numeric(gsub(-1,0,East))
East<-unlist(gregexpr(" e ",datacrime$Address))
datacrime$Address<-gsub(" e "," ",datacrime$Address)
datacrime$Address[East==TRUE]<-paste(datacrime$Address[East==TRUE],"e")
West<-unlist(gregexpr(" w ",datacrime$Address))
West<-as.numeric(gsub(-1,0,West))
datacrime$Address<-gsub(" w "," ",datacrime$Address)
datacrime$Address[West==TRUE]<-paste(datacrime$Address[West==TRUE],"w")
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.y=TRUE)
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address")
,all.y=TRUE
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.y=TRUE)
sum(datamerged$Total[is.na(datamerged$Sec_Block)])
sum(datamerged$Total)
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address")#,all.y=TRUE
sum(datamerged$Total[is.na(datamerged$Sec_Block)])
sum(datamerged$Total)
save(datamerged,"datamerged.Rdata")
?save
save(datamerged,file="datamerged.Rdata")
data<-read.csv("2017.1-2018.1.csv")
data<-read.csv("2017.1-2018.1.csv")
datanew<-data.frame(data)
datanew$block.address<-gsub("AVE","AV",datanew$block.address)
datanew$block.address<-tolower(datanew$block.address)
datanew$block.address<-gsub("\\s?&.*$","",datanew$block.address)
datanew$block.address<-gsub(" rear.*$","",datanew$block.address)
datanew$block.address<-gsub(" to .*$","",datanew$block.address)
datanew$block.address<-gsub(" #.*$","",datanew$block.address)
crimedata<-read.csv("crime2017.csv")
datacrime<-data.frame(crimedata)
datacrime$Address<-tolower(datacrime$Address)
South<-unlist(gregexpr(" s ",datacrime$Address))
South<-as.numeric(gsub(-1,0,South))
datacrime$Address<-gsub(" s "," ",datacrime$Address)
datacrime$Address[South==TRUE]<-paste(datacrime$Address[South==TRUE],"s")
North<-unlist(gregexpr(" n ",datacrime$Address))
North<-as.numeric(gsub(-1,0,North))
datacrime$Address<-gsub(" n "," ",datacrime$Address)
datacrime$Address[North==TRUE]<-paste(datacrime$Address[North==TRUE],"n")
East<-unlist(gregexpr(" e ",datacrime$Address))
East<-as.numeric(gsub(-1,0,East))
datacrime$Address<-gsub(" e "," ",datacrime$Address)
datacrime$Address[East==TRUE]<-paste(datacrime$Address[East==TRUE],"e")
West<-unlist(gregexpr(" w ",datacrime$Address))
West<-as.numeric(gsub(-1,0,West))
datacrime$Address<-gsub(" w "," ",datacrime$Address)
datacrime$Address[West==TRUE]<-paste(datacrime$Address[West==TRUE],"w")
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address")#,all.y=TRUE
datamerged$Aggravated.assault[is.na(datamerged$Aggravated.assault)]<-0
datamerged$Arson[is.na(datamerged$Arson)]<-0
datamerged$Burglary[is.na(datamerged$Burglary)]<-0
datamerged$Larceny[is.na(datamerged$Larceny)]<-0
datamerged$Murder[is.na(datamerged$Murder)]<-0
datamerged$Robbery[is.na(datamerged$Robbery)]<-0
datamerged$Vehicle.theft[is.na(datamerged$Vehicle.theft)]<-0
save(datamerged,file="datamerged.Rdata")
View(datamerged)
sum(datamerged$Total[is.na(datamerged$Sec_Block)])
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.y=TRUE)#,
sum(datamerged$Total[is.na(datamerged$Sec_Block)])
data<-read.csv("2017.1-2018.1.csv")
datanew<-data.frame(data,full_add=paste(data$StNum,data$StName))
library(ggmap)
datanew$full_add<-as.character(datanew$full_add)
dim(datanew[datanew$Occupancy=='Vacant Residential',])
latlon<-geocode(datanew$full_add[datanew$Occupancy=='Vacant Residential'])
data<-read.csv("2017.1-2018.1.csv")
datanew<-data.frame(data)
datanew$block.address<-gsub("AVE","AV",datanew$block.address)
datanew$block.address<-tolower(datanew$block.address)
datanew$block.address<-gsub("\\s?&.*$","",datanew$block.address)
datanew$block.address<-gsub(" rear.*$","",datanew$block.address)
datanew$block.address<-gsub(" to .*$","",datanew$block.address)
datanew$block.address<-gsub(" #.*$","",datanew$block.address)
crimedata<-read.csv("crime2017.csv")
datacrime<-data.frame(crimedata)
datacrime$Address<-tolower(datacrime$Address)
South<-unlist(gregexpr(" s ",datacrime$Address))
South<-as.numeric(gsub(-1,0,South))
datacrime$Address<-gsub(" s "," ",datacrime$Address)
datacrime$Address[South==TRUE]<-paste(datacrime$Address[South==TRUE],"s")
North<-unlist(gregexpr(" n ",datacrime$Address))
North<-as.numeric(gsub(-1,0,North))
datacrime$Address<-gsub(" n "," ",datacrime$Address)
datacrime$Address[North==TRUE]<-paste(datacrime$Address[North==TRUE],"n")
East<-unlist(gregexpr(" e ",datacrime$Address))
East<-as.numeric(gsub(-1,0,East))
datacrime$Address<-gsub(" e "," ",datacrime$Address)
datacrime$Address[East==TRUE]<-paste(datacrime$Address[East==TRUE],"e")
West<-unlist(gregexpr(" w ",datacrime$Address))
West<-as.numeric(gsub(-1,0,West))
datacrime$Address<-gsub(" w "," ",datacrime$Address)
datacrime$Address[West==TRUE]<-paste(datacrime$Address[West==TRUE],"w")
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.y=TRUE)#,
datamerged$Aggravated.assault[is.na(datamerged$Aggravated.assault)]<-0
datamerged$Arson[is.na(datamerged$Arson)]<-0
datamerged$Burglary[is.na(datamerged$Burglary)]<-0
datamerged$Larceny[is.na(datamerged$Larceny)]<-0
datamerged$Murder[is.na(datamerged$Murder)]<-0
datamerged$Robbery[is.na(datamerged$Robbery)]<-0
datamerged$Vehicle.theft[is.na(datamerged$Vehicle.theft)]<-0
save(datamerged,file="datamerged.Rdata")
sum(datamerged$Total[is.na(datamerged$Sec_Block)])
sum(datamerged$Total)
sum(datamerged$Total[is.na(datamerged$Sec_Block)])
sum(datamerged$Total)
missdata<-datamerged[is.na(datamerged$Sec_Block),]
View(missdata)
data<-read.csv("2017.1-2018.1.csv")
datanew<-data.frame(data,full_add=paste(data$StNum,data$StName))
data<-read.csv("2017.1-2018.1.csv")
datanew<-data.frame(data)
datanew$block.address<-gsub("AVE","ST",datanew$block.address)
datanew$block.address<-gsub("PL","ST",datanew$block.address)
datanew$block.address<-gsub("AV","ST",datanew$block.address)
datanew$block.address<-gsub("RD","ST",datanew$block.address)
datanew$block.address<-gsub("DR","ST",datanew$block.address)
datanew$block.address<-gsub("TNPK","ST",datanew$block.address)
datanew$block.address<-gsub("BLVD","ST",datanew$block.address)
datanew$block.address<-gsub("PKWY","ST",datanew$block.address)
datanew$block.address<-tolower(datanew$block.address)
datanew$block.address<-gsub("\\s?&.*$","",datanew$block.address)
datanew$block.address<-gsub(" rear.*$","",datanew$block.address)
datanew$block.address<-gsub(" to .*$","",datanew$block.address)
datanew$block.address<-gsub(" #.*$","",datanew$block.address)
crimedata<-read.csv("crime2017.csv")
datacrime<-data.frame(crimedata)
datacrime$Address<-tolower(datacrime$Address)
South<-unlist(gregexpr(" s ",datacrime$Address))
South<-as.numeric(gsub(-1,0,South))
datacrime$Address<-gsub(" s "," ",datacrime$Address)
datacrime$Address[South==TRUE]<-paste(datacrime$Address[South==TRUE],"s")
datanew$Address<-gsub("Ave","ST",datanew$Address)
datanew$Address<-gsub("Pl","AV",datanew$Address)
datanew$Address<-gsub("Av","AV",datanew$Address)
datanew$Address<-gsub("Rd","AV",datanew$Address)
datanew$Address<-gsub("Dr","AV",datanew$Address)
datanew$Address<-gsub("Blvd","AV",datanew$Address)
datanew$Address<-gsub("Tnpk","AV",datanew$Address)
datanew$Address<-gsub("Pkwy","AV",datanew$Address)
North<-unlist(gregexpr(" n ",datacrime$Address))
North<-as.numeric(gsub(-1,0,North))
datacrime$Address<-gsub(" n "," ",datacrime$Address)
datacrime$Address[North==TRUE]<-paste(datacrime$Address[North==TRUE],"n")
East<-unlist(gregexpr(" e ",datacrime$Address))
East<-as.numeric(gsub(-1,0,East))
datacrime$Address<-gsub(" e "," ",datacrime$Address)
datacrime$Address[East==TRUE]<-paste(datacrime$Address[East==TRUE],"e")
West<-unlist(gregexpr(" w ",datacrime$Address))
West<-as.numeric(gsub(-1,0,West))
datacrime$Address<-gsub(" w "," ",datacrime$Address)
datacrime$Address[West==TRUE]<-paste(datacrime$Address[West==TRUE],"w")
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.y=TRUE)#,
datamerged$Aggravated.assault[is.na(datamerged$Aggravated.assault)]<-0
datamerged$Arson[is.na(datamerged$Arson)]<-0
datamerged$Burglary[is.na(datamerged$Burglary)]<-0
datamerged$Larceny[is.na(datamerged$Larceny)]<-0
datamerged$Murder[is.na(datamerged$Murder)]<-0
datamerged$Robbery[is.na(datamerged$Robbery)]<-0
datamerged$Vehicle.theft[is.na(datamerged$Vehicle.theft)]<-0
missdata<-datamerged[is.na(datamerged$Sec_Block),]
sum(datamerged$Total[is.na(datamerged$Sec_Block)])
sum(datamerged$Total)
crimedata<-read.csv("crime2017.csv")
datacrime<-data.frame(crimedata)
datanew$Address<-gsub("Ave","ST",datanew$Address)
datanew$Address<-gsub("Av","AV",datanew$Address)
datanew$Address<-gsub("Pl","AV",datanew$Address)
datanew$Address<-gsub("Rd","AV",datanew$Address)
datanew$Address<-gsub("Dr","AV",datanew$Address)
datanew$Address<-gsub("Tnpk","AV",datanew$Address)
datanew$Address<-gsub("Blvd","AV",datanew$Address)
datanew$Address<-gsub("Pkwy","AV",datanew$Address)
datacrime$Address<-tolower(datacrime$Address)
South<-unlist(gregexpr(" s ",datacrime$Address))
South<-as.numeric(gsub(-1,0,South))
datacrime$Address<-gsub(" s "," ",datacrime$Address)
datacrime$Address[South==TRUE]<-paste(datacrime$Address[South==TRUE],"s")
North<-unlist(gregexpr(" n ",datacrime$Address))
North<-as.numeric(gsub(-1,0,North))
datacrime$Address<-gsub(" n "," ",datacrime$Address)
datacrime$Address[North==TRUE]<-paste(datacrime$Address[North==TRUE],"n")
East<-unlist(gregexpr(" e ",datacrime$Address))
East<-as.numeric(gsub(-1,0,East))
datacrime$Address<-gsub(" e "," ",datacrime$Address)
datacrime$Address[East==TRUE]<-paste(datacrime$Address[East==TRUE],"e")
West<-unlist(gregexpr(" w ",datacrime$Address))
West<-as.numeric(gsub(-1,0,West))
datacrime$Address<-gsub(" w "," ",datacrime$Address)
datacrime$Address[West==TRUE]<-paste(datacrime$Address[West==TRUE],"w")
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.y=TRUE)#,
datamerged$Aggravated.assault[is.na(datamerged$Aggravated.assault)]<-0
datamerged$Arson[is.na(datamerged$Arson)]<-0
datamerged$Burglary[is.na(datamerged$Burglary)]<-0
datamerged$Larceny[is.na(datamerged$Larceny)]<-0
datamerged$Murder[is.na(datamerged$Murder)]<-0
datamerged$Robbery[is.na(datamerged$Robbery)]<-0
datamerged$Vehicle.theft[is.na(datamerged$Vehicle.theft)]<-0
missdata<-datamerged[is.na(datamerged$Sec_Block),]
sum(datamerged$Total[is.na(datamerged$Sec_Block)])
sum(datamerged$Total)
datanew$Address<-gsub("Ave","ST",datanew$Address)
datanew$Address<-gsub("Pl","ST",datanew$Address)
datanew$Address<-gsub("Av","ST",datanew$Address)
datanew$Address<-gsub("Rd","ST",datanew$Address)
datanew$Address<-gsub("Dr","ST",datanew$Address)
datanew$Address<-gsub("Blvd","ST",datanew$Address)
datanew$Address<-gsub("Tnpk","ST",datanew$Address)
datanew$Address<-gsub("Pkwy","ST",datanew$Address)
crimedata<-read.csv("crime2017.csv")
datacrime<-data.frame(crimedata)
datacrime$Address<-gsub("Ave","ST",datanew$Address)
datacrime$Address<-gsub("Pl","ST",datanew$Address)
datacrime$Address<-gsub("Rd","ST",datanew$Address)
datacrime$Address<-gsub("Av","ST",datanew$Address)
View(crimedata)
View(datacrime)
data<-read.csv("2017.1-2018.1.csv")
datanew<-data.frame(data)
datanew$block.address<-gsub("AVE","ST",datanew$block.address)
datanew$block.address<-gsub("PL","ST",datanew$block.address)
datanew$block.address<-gsub("AV","ST",datanew$block.address)
datanew$block.address<-gsub("RD","ST",datanew$block.address)
datanew$block.address<-gsub("DR","ST",datanew$block.address)
datanew$block.address<-gsub("TNPK","ST",datanew$block.address)
datanew$block.address<-gsub("BLVD","ST",datanew$block.address)
datanew$block.address<-gsub("PKWY","ST",datanew$block.address)
datanew$block.address<-tolower(datanew$block.address)
datanew$block.address<-gsub("\\s?&.*$","",datanew$block.address)
datanew$block.address<-gsub(" rear.*$","",datanew$block.address)
datanew$block.address<-gsub(" to .*$","",datanew$block.address)
datanew$block.address<-gsub(" #.*$","",datanew$block.address)
crimedata<-read.csv("crime2017.csv")
datacrime<-data.frame(crimedata)
datacrime$Address<-gsub("Ave","ST",datacrime$Address)
datacrime$Address<-gsub("Pl","ST",datacrime$Address)
datacrime$Address<-gsub("Av","ST",datacrime$Address)
datacrime$Address<-gsub("Rd","ST",datacrime$Address)
datacrime$Address<-gsub("Dr","ST",datacrime$Address)
datacrime$Address<-gsub("Tnpk","ST",datacrime$Address)
datacrime$Address<-gsub("Blvd","ST",datacrime$Address)
datacrime$Address<-gsub("Pkwy","ST",V$Address)
datacrime$Address<-tolower(datacrime$Address)
South<-unlist(gregexpr(" s ",datacrime$Address))
South<-as.numeric(gsub(-1,0,South))
datacrime$Address[South==TRUE]<-paste(datacrime$Address[South==TRUE],"s")
datacrime$Address<-gsub(" s "," ",datacrime$Address)
North<-unlist(gregexpr(" n ",datacrime$Address))
North<-as.numeric(gsub(-1,0,North))
datacrime$Address<-gsub(" n "," ",datacrime$Address)
datacrime$Address[North==TRUE]<-paste(datacrime$Address[North==TRUE],"n")
East<-unlist(gregexpr(" e ",datacrime$Address))
East<-as.numeric(gsub(-1,0,East))
datacrime$Address<-gsub(" e "," ",datacrime$Address)
datacrime$Address[East==TRUE]<-paste(datacrime$Address[East==TRUE],"e")
West<-unlist(gregexpr(" w ",datacrime$Address))
West<-as.numeric(gsub(-1,0,West))
datacrime$Address<-gsub(" w "," ",datacrime$Address)
datacrime$Address[West==TRUE]<-paste(datacrime$Address[West==TRUE],"w")
datamerged<-merge(datanew,datacrime,by.x="block.address",by.y="Address",all.y=TRUE)#,
datamerged$Aggravated.assault[is.na(datamerged$Aggravated.assault)]<-0
datamerged$Arson[is.na(datamerged$Arson)]<-0
datamerged$Burglary[is.na(datamerged$Burglary)]<-0
datamerged$Larceny[is.na(datamerged$Larceny)]<-0
datamerged$Murder[is.na(datamerged$Murder)]<-0
datamerged$Robbery[is.na(datamerged$Robbery)]<-0
datamerged$Vehicle.theft[is.na(datamerged$Vehicle.theft)]<-0
missdata<-datamerged[is.na(datamerged$Sec_Block),]
sum(datamerged$Total[is.na(datamerged$Sec_Block)])
sum(datamerged$Total)
View(datamerged)
